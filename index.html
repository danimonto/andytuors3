<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mapa con Corredor</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #map {
      width: 1080px;
      height: 720px;
      margin-top: 20px;
    }

    .controls {
      margin: 20px;
    }

    #runner {
      font-size: 24px;
      transform: translate(-50%, -50%);
    }

    .leaflet-marker-icon span {
      display: inline-block;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <h2>üèÉ‚Äç‚ôÇÔ∏è Corredor sobre mapa</h2>

  <div class="controls">
    Inicio: <input type="time" id="startTime" value="08:00">
    Fin: <input type="time" id="endTime" value="10:00">
    <button onclick="startRun()">Iniciar</button>
    <div id="countdown">00:00:00</div>
  </div>

  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([-34.6037, -58.3816], 13); // CABA
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    const routeCoords = [
  [-34.61104, -58.3706],
  [-34.61121, -58.37058999999999],
  [-34.61126, -58.37058999999999],
  [-34.61167, -58.37057],
  [-34.61192, -58.37057],
  [-34.61206, -58.37057],
  [-34.6122, -58.37057],
  [-34.61228, -58.37057],
  [-34.61238, -58.37062],
  [-34.61235, -58.37014],
  [-34.61232, -58.36956000000001],
  [-34.61232, -58.36941],
  [-34.61231, -58.36919999999999],
  [-34.6123, -58.36888],
  [-34.6123, -58.36883999999999],
  [-34.61228, -58.36861],
  [-34.61226, -58.36839],
  [-34.61222, -58.36798],
  [-34.61219, -58.36758],
  [-34.61216, -58.36716999999999],
  [-34.61239, -58.36715],
  [-34.61267, -58.36712],
  [-34.61324, -58.36706],
  [-34.61339, -58.36704],
  [-34.6144, -58.36693],
  [-34.61457, -58.36691],
  [-34.61562, -58.36679],
  [-34.61576, -58.36678000000001],
  [-34.61617, -58.36672999999999],
  [-34.6163, -58.36671],
  [-34.61674, -58.36666],
  [-34.61688, -58.36664],
  [-34.61737, -58.36659],
  [-34.61811, -58.36651],
  [-34.61925, -58.36638],
  [-34.62043, -58.36624],
  [-34.62073, -58.36619999999999],
  [-34.62077, -58.36619],
  [-34.62082, -58.36616],
  [-34.62121, -58.3661],
  [-34.62139, -58.36608],
  [-34.62148, -58.36607],
  [-34.62154, -58.3661],
  [-34.62161, -58.36614000000001],
  [-34.62166, -58.36617],
  [-34.62172, -58.36622],
  [-34.62176, -58.36625999999999],
  [-34.62179, -58.36629],
  [-34.62185, -58.36638],
  [-34.62189, -58.36642000000001],
  [-34.62192, -58.36648],
  [-34.62195, -58.36653],
  [-34.62198, -58.36664],
  [-34.62199, -58.36672999999999],
  [-34.622, -58.36683],
  [-34.622, -58.36694],
  [-34.62199, -58.36708],
  [-34.62199, -58.36722999999999],
  [-34.622, -58.3673],
  [-34.622, -58.36731],
  [-34.62202, -58.36743],
  [-34.62206, -58.36766],
  [-34.62216, -58.36813],
  [-34.62222, -58.36836000000001],
  [-34.62226, -58.36857],
  [-34.6223, -58.36877],
  [-34.62233, -58.36894],
  [-34.62235, -58.36916],
  [-34.62236, -58.36936],
  [-34.62236, -58.36949],
  [-34.62236, -58.36961000000001],
  [-34.62236, -58.36975000000001],
  [-34.62236, -58.36989],
  [-34.62236, -58.37022000000001],
  [-34.62237, -58.37078],
  [-34.62238, -58.37092],
  [-34.62239, -58.37099],
  [-34.6224, -58.37105],
  [-34.62243, -58.37114],
  [-34.62243, -58.37121],
  [-34.62243, -58.37128],
  [-34.62243, -58.37138],
  [-34.62244, -58.37149],
  [-34.62246, -58.37168],
  [-34.62248, -58.37189000000001],
  [-34.62252, -58.37213],
  [-34.62259, -58.37261999999999],
  [-34.62261, -58.37272],
  [-34.62262, -58.37281000000001],
  [-34.62264, -58.37298000000001],
  [-34.62269, -58.37342],
  [-34.62271, -58.37358],
  [-34.62276, -58.37396],
  [-34.62277, -58.37403],
  [-34.62278, -58.37416],
  [-34.62281, -58.37468],
  [-34.62284, -58.37517],
  [-34.62285, -58.3755],
  [-34.62285, -58.37561],
  [-34.62285, -58.37571],
  [-34.62284, -58.37622],
  [-34.62284, -58.37627],
  [-34.62281, -58.377],
  [-34.62279, -58.37716],
  [-34.62278, -58.37731999999999],
  [-34.62278, -58.3775],
  [-34.62276, -58.37785],
  [-34.62277, -58.37822],
  [-34.62279, -58.37858],
  [-34.62279, -58.37867],
  [-34.62279, -58.37877],
  [-34.62279, -58.37899],
  [-34.6228, -58.37957],
  [-34.62281, -58.3797],
  [-34.62281, -58.37982],
  [-34.62282, -58.38003],
  [-34.62282, -58.38022],
  [-34.62283, -58.38048000000001],
  [-34.62283, -58.38074],
  [-34.62284, -58.38091],
  [-34.62284, -58.38108],
  [-34.62285, -58.38136],
  [-34.62285, -58.38163],
  [-34.62284, -58.38208],
  [-34.62283, -58.38238],
  [-34.62282, -58.38261],
  [-34.62281, -58.38291],
  [-34.62281, -58.38309000000001],
  [-34.62281, -58.38313],
  [-34.62281, -58.3836],
  [-34.62281, -58.38388],
  [-34.62282, -58.38434000000001],
  [-34.62282, -58.38442],
  [-34.62283, -58.3845],
  [-34.62283, -58.38463],
  [-34.62285, -58.38499],
  [-34.62287, -58.3853],
  [-34.6229, -58.38581],
  [-34.62291, -58.38589],
  [-34.62292, -58.38597],
  [-34.62297, -58.38653],
  [-34.62299, -58.38669],
  [-34.623, -58.3868],
  [-34.62303, -58.38709999999999],
  [-34.62305, -58.38723000000001],
  [-34.62306, -58.38734999999999],
  [-34.62311, -58.38770999999999],
  [-34.6232, -58.38853],
  [-34.62322, -58.38863],
  [-34.62323, -58.38873000000001],
  [-34.62335, -58.38975],
  [-34.62336, -58.38985],
  [-34.62337, -58.38994],
  [-34.62353, -58.39141],
  [-34.62354, -58.39151],
  [-34.62355, -58.3916],
  [-34.6236, -58.39197],
  [-34.62362, -58.39211],
  [-34.62366, -58.3923],
  [-34.62371, -58.39255],
  [-34.62372, -58.39264],
  [-34.62374, -58.39274],
  [-34.62376, -58.39284],
  [-34.62378, -58.39296],
  [-34.62388, -58.39342],
  [-34.62392, -58.39359],
  [-34.62394, -58.39368],
  [-34.62396, -58.39378],
  [-34.62411, -58.39441],
  [-34.62415, -58.39454],
  [-34.62424, -58.39491],
  [-34.62432, -58.39528],
  [-34.62434, -58.39536],
  [-34.62457, -58.39631],
  [-34.62471, -58.39690000000001],
  [-34.62485, -58.39748],
  [-34.62516, -58.39882999999999],
  [-34.62522, -58.39907000000001],
  [-34.62536, -58.39965],
  [-34.6255, -58.40023],
  [-34.62566, -58.40091],
  [-34.62573, -58.40125],
  [-34.62584, -58.40179],
  [-34.62589, -58.40206],
  [-34.62592, -58.40223],
  [-34.62601, -58.40288],
  [-34.62612, -58.4037],
  [-34.62612, -58.40373],
  [-34.62613, -58.40382000000001],
  [-34.62621, -58.40443999999999],
  [-34.62627, -58.40490999999999],
  [-34.62634, -58.40543],
  [-34.62636, -58.40564],
  [-34.62638, -58.40583],
  [-34.6264, -58.40593],
  [-34.6264, -58.40598],
  [-34.62642, -58.40608],
  [-34.62644, -58.40626],
  [-34.62646, -58.40644],
  [-34.62648, -58.40662],
  [-34.62649, -58.40667],
  [-34.6265, -58.40679],
  [-34.62652, -58.40697],
  [-34.62652, -58.40699000000001],
  [-34.62658, -58.40742],
  [-34.62659, -58.40753],
  [-34.6266, -58.40764],
  [-34.62661, -58.40775],
  [-34.62662, -58.40786],
  [-34.62663, -58.40796999999999],
  [-34.62664, -58.40807],
  [-34.62664, -58.40818],
  [-34.62665, -58.40829],
  [-34.62666, -58.4084],
  [-34.62666, -58.40851],
  [-34.62666, -58.4086],
  [-34.62667, -58.40876],
  [-34.62667, -58.40889],
  [-34.62668, -58.40902],
  [-34.62668, -58.40915],
  [-34.62669, -58.40929],
  [-34.62669, -58.40942],
  [-34.62669, -58.40956],
  [-34.6267, -58.40969],
  [-34.6267, -58.40982],
  [-34.6267, -58.40995],
  [-34.62671, -58.41007999999999],
  [-34.62671, -58.41018999999999],
  [-34.62671, -58.41022],
  [-34.62672, -58.41032999999999],
  [-34.62672, -58.41043999999999],
  [-34.62673, -58.41064],
  [-34.62674, -58.41082],
  [-34.62675, -58.41096999999999],
  [-34.62676, -58.41110999999999],
  [-34.62677, -58.41123],
  [-34.62678, -58.41136],
  [-34.6268, -58.41149],
  [-34.62681, -58.41162],
  [-34.62682, -58.41172],
  [-34.62683, -58.41184],
  [-34.62683, -58.41188],
  [-34.62684, -58.41198],
  [-34.62685, -58.41201],
  [-34.62686, -58.41214],
  [-34.62688, -58.41227],
  [-34.6269, -58.4124],
  [-34.62691, -58.41252999999999],
  [-34.62693, -58.41266000000001],
  [-34.62695, -58.41279],
  [-34.62696, -58.41292],
  [-34.62698, -58.41304],
  [-34.62699, -58.41317],
  [-34.62701, -58.41330000000001],
  [-34.62703, -58.41343],
  [-34.62704, -58.41355999999999],
  [-34.62706, -58.41369],
  [-34.62708, -58.41381],
  [-34.6271, -58.41394],
  [-34.62711, -58.41407],
  [-34.62713, -58.4142],
  [-34.62715, -58.41433000000001],
  [-34.62716, -58.41446999999999],
  [-34.62718, -58.41459],
  [-34.6272, -58.41472],
  [-34.62721, -58.41484],
  [-34.62723, -58.41497],
  [-34.62725, -58.41511000000001],
  [-34.62726, -58.41523],
  [-34.62728, -58.41535999999999],
  [-34.6273, -58.41549],
  [-34.62731, -58.41562],
  [-34.62733, -58.41575],
  [-34.62735, -58.41587],
  [-34.62737, -58.41601],
  [-34.62739, -58.41613000000001],
  [-34.62741, -58.41625000000001],
  [-34.62743, -58.4164],
  [-34.62745, -58.41652],
  [-34.62747, -58.41665],
  [-34.62751, -58.41691000000001],
  [-34.62753, -58.41702],
  [-34.62755, -58.41716000000001],
  [-34.62756, -58.41724],
  [-34.62756, -58.41727999999999],
  [-34.62757, -58.41735],
  [-34.62758, -58.41742],
  [-34.62762, -58.41768],
  [-34.62764, -58.4178],
  [-34.62765, -58.41794000000001],
  [-34.62767, -58.41805999999999],
  [-34.62769, -58.4182],
  [-34.6277, -58.41827],
  [-34.62771, -58.41839],
  [-34.62773, -58.41851],
  [-34.62779, -58.41891],
  [-34.62783, -58.41919000000001],
  [-34.62788, -58.41954],
  [-34.6279, -58.41963999999999],
  [-34.62791, -58.41971],
  [-34.62793, -58.41983],
  [-34.62795, -58.41994],
  [-34.62801, -58.42036],
  [-34.62802, -58.42045],
  [-34.62809, -58.42086],
  [-34.62811, -58.42100000000001],
  [-34.62813, -58.42113],
  [-34.62818, -58.4214],
  [-34.62831, -58.42224],
  [-34.62833, -58.42238],
  [-34.62834, -58.42252999999999],
  [-34.62841, -58.42308],
  [-34.62846, -58.42358999999999],
  [-34.62847, -58.42371],
  [-34.62848, -58.42382],
  [-34.6285, -58.42406],
  [-34.62852, -58.42418],
  [-34.62853, -58.42429],
  [-34.62855, -58.42447],
  [-34.62861, -58.42497000000001],
  [-34.62863, -58.42515],
  [-34.62865, -58.42532],
  [-34.62867, -58.42550000000001],
  [-34.62871, -58.42586000000001],
  [-34.62875, -58.42613],
  [-34.62876, -58.4262],
  [-34.62878, -58.42635],
  [-34.62879, -58.4265],
  [-34.62888, -58.42718],
  [-34.62894, -58.42764],
  [-34.62895, -58.42776],
  [-34.62897, -58.42788],
  [-34.62903, -58.42832],
  [-34.62913, -58.42909],
  [-34.62915, -58.42922],
  [-34.62917, -58.42936000000001],
  [-34.6293, -58.43033999999999],
  [-34.62934, -58.43053],
  [-34.62937, -58.43073],
  [-34.62945, -58.43124],
  [-34.62954, -58.43175000000001],
  [-34.62956, -58.43191],
  [-34.62959, -58.43208],
  [-34.62971, -58.43292],
  [-34.62972, -58.43301],
  [-34.6298, -58.43359],
  [-34.6299, -58.43427],
  [-34.62991, -58.43433],
  [-34.62993, -58.43439999999999],
  [-34.62994, -58.43446],
  [-34.62994, -58.43452],
  [-34.62995, -58.43456],
  [-34.62997, -58.43470000000001],
  [-34.62999, -58.43485],
  [-34.63002, -58.43499],
  [-34.63004, -58.43514],
  [-34.63006, -58.43524],
  [-34.63008, -58.43534],
  [-34.63015, -58.43586],
  [-34.63019, -58.43613],
  [-34.63026, -58.43665],
  [-34.63028, -58.43675999999999],
  [-34.63029, -58.43686999999999],
  [-34.63036, -58.43728999999999],
  [-34.6304, -58.43753999999999],
  [-34.6305, -58.43792],
  [-34.6306, -58.43823],
  [-34.63064, -58.43834],
  [-34.63068, -58.43846],
  [-34.63076, -58.43865],
  [-34.63088, -58.43893],
  [-34.63095, -58.43907],
  [-34.63101, -58.43918],
  [-34.63103, -58.43922999999999],
  [-34.63106, -58.43927],
  [-34.63114, -58.43942],
  [-34.63117, -58.43947],
  [-34.6312, -58.43953],
  [-34.63124, -58.43959],
  [-34.63128, -58.43966],
  [-34.6313, -58.43969],
  [-34.63132, -58.43972],
  [-34.63141, -58.43986],
  [-34.63143, -58.43989],
  [-34.63145, -58.43992999999999],
  [-34.63151, -58.44002],
  [-34.63156, -58.44011999999999],
  [-34.63166, -58.44027],
  [-34.63177, -58.44045],
  [-34.63183, -58.44057],
  [-34.63193, -58.44072999999999],
  [-34.63221, -58.44123],
  [-34.63228, -58.44136],
  [-34.63235, -58.44148000000001],
  [-34.63244, -58.44163],
  [-34.63262, -58.44192999999999],
  [-34.63298, -58.44253],
  [-34.63307, -58.44268],
  [-34.63318, -58.44284],
  [-34.63321, -58.44289],
  [-34.63323, -58.44292],
  [-34.63326, -58.44298000000001],
  [-34.63336, -58.44312000000001],
  [-34.63356, -58.44341],
  [-34.63375, -58.44369],
  [-34.63394, -58.44398],
  [-34.63414, -58.44427],
  [-34.63432, -58.44453],
  [-34.63434, -58.44456000000001],
  [-34.63437, -58.44461],
  [-34.63455, -58.44487000000001],
  [-34.63474, -58.44515000000001],
  [-34.63482, -58.44527],
  [-34.63492, -58.44541],
  [-34.63522, -58.44583],
  [-34.63551, -58.4463],
  [-34.63555, -58.44637000000001],
  [-34.63559, -58.44644],
  [-34.63568, -58.44658],
  [-34.63576, -58.44673999999999],
  [-34.63584, -58.44691],
  [-34.63591, -58.44706],
  [-34.63598, -58.44723],
  [-34.63604, -58.44738],
  [-34.6361, -58.44756999999999],
  [-34.63613, -58.44769],
  [-34.63616, -58.44776],
  [-34.63619, -58.4479],
  [-34.63623, -58.44808],
  [-34.63626, -58.44826],
  [-34.63629, -58.44841],
  [-34.63631, -58.44864],
  [-34.63632, -58.44881],
  [-34.63633, -58.44901999999999],
  [-34.63634, -58.44934],
  [-34.63634, -58.44956],
  [-34.63632, -58.44995],
  [-34.6363, -58.45048],
  [-34.6363, -58.45062999999999],
  [-34.63629, -58.45084],
  [-34.63629, -58.45105],
  [-34.63629, -58.45123999999999],
  [-34.63629, -58.45145],
  [-34.63629, -58.45165999999999],
  [-34.6363, -58.45178],
  [-34.63631, -58.45191],
  [-34.63632, -58.45205],
  [-34.63634, -58.45219],
  [-34.63636, -58.45231999999999],
  [-34.63639, -58.45247],
  [-34.63644, -58.45272],
  [-34.63648, -58.45287],
  [-34.63653, -58.45304000000001],
  [-34.63659, -58.4532],
  [-34.63664, -58.45338],
  [-34.63667, -58.45345],
  [-34.63671, -58.45354],
  [-34.63678, -58.45369],
  [-34.63685, -58.45384],
  [-34.637, -58.4541],
  [-34.63711, -58.45431],
  [-34.63731, -58.45463],
  [-34.6374, -58.45479000000001],
  [-34.6375, -58.45494],
  [-34.63763, -58.45516],
  [-34.63794, -58.45564],
  [-34.63799, -58.45572],
  [-34.63812, -58.4559],
  [-34.63829, -58.45615000000001],
  [-34.63835, -58.45621000000001],
  [-34.63855, -58.45647],
  [-34.63885, -58.45682000000001],
  [-34.63906, -58.45708],
  [-34.63915, -58.45718000000001],
  [-34.63923, -58.45728],
  [-34.63931, -58.45737999999999],
  [-34.63957, -58.45769],
  [-34.63983, -58.45799],
  [-34.64027, -58.45859],
  [-34.64055, -58.45897],
  [-34.64066, -58.45912999999999],
  [-34.64079, -58.45929999999999],
  [-34.6408, -58.45932],
  [-34.64081, -58.45933],
  [-34.64103, -58.45964],
  [-34.64107, -58.4597],
  [-34.64147, -58.46028],
  [-34.64167, -58.46056],
  [-34.6419, -58.46083],
  [-34.64213, -58.46107],
  [-34.64237, -58.46131],
  [-34.64261, -58.4615],
  [-34.64277, -58.46163000000001],
  [-34.64283, -58.46167],
  [-34.64296, -58.46176],
  [-34.64313, -58.46186],
  [-34.64335, -58.46199000000001],
  [-34.6435, -58.46207],
  [-34.64359, -58.46211],
  [-34.64378, -58.46218999999999],
  [-34.64422, -58.46235000000001],
  [-34.64437, -58.4624],
  [-34.64457, -58.46247],
  [-34.64477, -58.46254],
  [-34.64494, -58.46260000000001],
  [-34.64511, -58.46265999999999],
  [-34.64516, -58.46268],
  [-34.64543, -58.46278],
  [-34.64591, -58.46301],
  [-34.64597, -58.4631],
  [-34.64604, -58.46316],
  [-34.64615, -58.46323],
  [-34.6462, -58.46326],
  [-34.64625, -58.46329],
  [-34.64628, -58.46332000000001],
  [-34.64639, -58.4634],
  [-34.64666, -58.46361],
  [-34.64683, -58.46375],
  [-34.64775, -58.46459],
  [-34.64788, -58.46472],
  [-34.64801, -58.46485],
  [-34.64818, -58.46501],
  [-34.64831, -58.46512999999999],
  [-34.64839, -58.46521],
  [-34.64846, -58.46528],
  [-34.64854, -58.46537],
  [-34.64867, -58.46553],
  [-34.64875, -58.46563],
  [-34.64878, -58.46567],
  [-34.64885, -58.46578],
  [-34.64894, -58.46592],
  [-34.64903, -58.46607],
  [-34.64911, -58.46625],
  [-34.64915, -58.46632999999999],
  [-34.64916, -58.46636],
  [-34.6492, -58.46649000000001],
  [-34.64925, -58.46666],
  [-34.64926, -58.46668999999999],
  [-34.64927, -58.46674999999999],
  [-34.64929, -58.46679999999999],
  [-34.64929, -58.46685999999999],
  [-34.6493, -58.46691000000001],
  [-34.64931, -58.46698],
  [-34.64932, -58.46704],
  [-34.64933, -58.46710999999999],
  [-34.64933, -58.46721000000001],
  [-34.64934, -58.46737],
  [-34.64935, -58.46754],
  [-34.64935, -58.46778],
  [-34.64937, -58.46830000000001],
  [-34.64936, -58.46892],
  [-34.64935, -58.46927000000001],
  [-34.64932, -58.47019],
  [-34.6493, -58.47046999999999],
  [-34.6493, -58.47055],
  [-34.64929, -58.4706],
  [-34.64926, -58.47117],
  [-34.64921, -58.47185999999999],
  [-34.64918, -58.47221],
  [-34.64917, -58.47235],
  [-34.64911, -58.47302],
  [-34.64911, -58.47304],
  [-34.64907, -58.47346999999999],
  [-34.64905, -58.47369],
  [-34.64899, -58.47413999999999],
  [-34.64896, -58.47438],
  [-34.64891, -58.47468],
  [-34.6489, -58.47477],
  [-34.64887, -58.47496],
  [-34.64883, -58.47519],
  [-34.6488, -58.47533000000001],
  [-34.64874, -58.47551],
  [-34.64868, -58.47566],
  [-34.64858, -58.47585],
  [-34.64854, -58.47591],
  [-34.64844, -58.47608],
  [-34.64801, -58.47669],
  [-34.64794, -58.47679],
  [-34.64778, -58.47704],
  [-34.64771, -58.47716],
  [-34.6477, -58.47718],
  [-34.64766, -58.47726],
  [-34.6476, -58.47744000000001],
  [-34.64753, -58.47772000000001],
  [-34.6475, -58.47789],
  [-34.6475, -58.47791999999999],
  [-34.64747, -58.47810999999999],
  [-34.64744, -58.47836],
  [-34.64744, -58.47838],
  [-34.64744, -58.47869000000001],
  [-34.64745, -58.47905000000001],
  [-34.64746, -58.47947000000001],
  [-34.64748, -58.47996999999999],
  [-34.64748, -58.48015],
  [-34.64747, -58.48021],
  [-34.64746, -58.48027],
  [-34.64744, -58.4804],
  [-34.64741, -58.48052],
  [-34.64738, -58.48067],
  [-34.64734, -58.48082],
  [-34.64719, -58.48127],
  [-34.64713, -58.48146],
  [-34.64701, -58.48183000000001],
  [-34.64696, -58.48198],
  [-34.64683, -58.48234],
  [-34.64665, -58.48281],
  [-34.64657, -58.48302],
  [-34.64655, -58.4831],
  [-34.64646, -58.48334],
  [-34.64627, -58.48388],
  [-34.6461, -58.48437],
  [-34.64591, -58.48485],
  [-34.64576, -58.48522],
  [-34.64571, -58.48533],
  [-34.64565, -58.48548],
  [-34.64557, -58.48566999999999],
  [-34.64548, -58.48585],
  [-34.64532, -58.48619],
  [-34.64522, -58.48637],
  [-34.64517, -58.48646],
  [-34.64491, -58.48694999999999],
  [-34.64473, -58.48727],
  [-34.64458, -58.48751],
  [-34.64454, -58.48758],
  [-34.6445, -58.48765],
  [-34.64414, -58.48819999999999],
  [-34.644, -58.48841],
  [-34.64394, -58.48849],
  [-34.6438, -58.48868],
  [-34.64367, -58.48886999999999],
  [-34.6436, -58.48896],
  [-34.64354, -58.48904],
  [-34.64326, -58.48939000000001],
  [-34.64255, -58.49024],
  [-34.64247, -58.49032],
  [-34.64239, -58.49041],
  [-34.64238, -58.49043],
  [-34.64233, -58.4905],
  [-34.64213, -58.49072000000001],
  [-34.64197, -58.49092],
  [-34.64194, -58.49094],
  [-34.64191, -58.49097],
  [-34.64174, -58.49116],
  [-34.64156, -58.49135],
  [-34.64147, -58.49146],
  [-34.64143, -58.49150000000001],
  [-34.64139, -58.49154],
  [-34.64134, -58.49159],
  [-34.64129, -58.49163],
  [-34.6409, -58.49203000000001],
  [-34.64063, -58.49229],
  [-34.64036, -58.49255],
  [-34.64027, -58.49263],
  [-34.64018, -58.49271],
  [-34.63998, -58.49289000000001],
  [-34.63978, -58.49307],
  [-34.63971, -58.49314],
  [-34.63967, -58.49316],
  [-34.63963, -58.49319999999999],
  [-34.63955, -58.49327],
  [-34.63948, -58.49330999999999],
  [-34.63942, -58.49336000000001],
  [-34.63936, -58.49341],
  [-34.63913, -58.49359],
  [-34.63856, -58.49403000000001],
  [-34.63823, -58.49429],
  [-34.63799, -58.49448],
  [-34.63794, -58.49450999999999],
  [-34.63756, -58.4948],
  [-34.63748, -58.49486999999999],
  [-34.63713, -58.49516],
  [-34.63696, -58.49532],
  [-34.63685, -58.49544],
  [-34.63674, -58.49556],
  [-34.63664, -58.49568],
  [-34.63655, -58.4958],
  [-34.63645, -58.49595000000001],
  [-34.63637, -58.49606000000001],
  [-34.63632, -58.49613],
  [-34.63625, -58.49625999999999],
  [-34.63616, -58.49642000000001],
  [-34.63608, -58.49658],
  [-34.63601, -58.49674],
  [-34.63595, -58.49686],
  [-34.63587, -58.49711],
  [-34.63582, -58.49727],
  [-34.63581, -58.49728000000001],
  [-34.63576, -58.49742],
  [-34.63572, -58.4976],
  [-34.63565, -58.49786],
  [-34.63563, -58.49798000000001],
  [-34.63559, -58.49817999999999],
  [-34.63557, -58.49838],
  [-34.63556, -58.49851],
  [-34.63555, -58.49871],
  [-34.63554, -58.49892],
  [-34.63554, -58.49911],
  [-34.63555, -58.49928],
  [-34.63558, -58.49969],
  [-34.63559, -58.49977],
  [-34.63559, -58.49984000000001],
  [-34.63571, -58.50075],
  [-34.63588, -58.50202],
  [-34.63596, -58.50255],
  [-34.63605, -58.50324],
  [-34.63611, -58.50372],
  [-34.63615, -58.50412000000001],
  [-34.63621, -58.50484999999999],
  [-34.63622, -58.50522],
  [-34.63622, -58.50576],
  [-34.6362, -58.50614],
  [-34.63619, -58.50633],
  [-34.63617, -58.50652],
  [-34.63613, -58.50692],
  [-34.63608, -58.50724],
  [-34.63601, -58.50758],
  [-34.63596, -58.50778999999999],
  [-34.63588, -58.50809999999999],
  [-34.6358, -58.50839999999999],
  [-34.63571, -58.50868000000001],
  [-34.63565, -58.50889],
  [-34.63556, -58.50923999999999],
  [-34.63545, -58.50959000000001],
  [-34.63535, -58.50993],
  [-34.6353, -58.51009],
  [-34.63525, -58.51027],
  [-34.6352, -58.5105],
  [-34.63515, -58.51075],
  [-34.6351, -58.51103],
  [-34.63508, -58.51120999999999],
  [-34.63506, -58.51140000000001],
  [-34.63504, -58.51158],
  [-34.63503, -58.51178],
  [-34.63503, -58.51197],
  [-34.63502, -58.51214],
  [-34.63503, -58.51237],
  [-34.63503, -58.51244],
  [-34.63504, -58.5127],
  [-34.63508, -58.51326000000001],
  [-34.63511, -58.51371],
  [-34.63516, -58.51415999999999],
  [-34.63519, -58.51445],
  [-34.6352, -58.51455],
  [-34.63524, -58.51491],
  [-34.6353, -58.51529000000001],
  [-34.63535, -58.51564],
  [-34.6354, -58.516],
  [-34.63543, -58.51615000000001],
  [-34.63549, -58.51653],
  [-34.63555, -58.51685000000001],
  [-34.63562, -58.51719],
  [-34.63569, -58.5175],
  [-34.63573, -58.5177],
  [-34.63582, -58.51804],
  [-34.63592, -58.5184],
  [-34.63597, -58.51854999999999],
  [-34.63618, -58.5192],
  [-34.6363, -58.51957000000001],
  [-34.63644, -58.52007],
  [-34.63647, -58.52017],
  [-34.63658, -58.52056],
  [-34.63665, -58.52087],
  [-34.63671, -58.52124000000001],
  [-34.63671, -58.52128],
  [-34.63673, -58.52145],
  [-34.63675, -58.52161],
  [-34.63677, -58.52195],
  [-34.63677, -58.52218],
  [-34.63675, -58.52248],
  [-34.63674, -58.52263000000001],
  [-34.63672, -58.52276],
  [-34.6367, -58.5229],
  [-34.63668, -58.52302],
  [-34.63666, -58.52312],
  [-34.63659, -58.52340999999999],
  [-34.63652, -58.52361],
  [-34.63644, -58.52387],
  [-34.63639, -58.524],
  [-34.63634, -58.52411],
  [-34.63624, -58.52436],
  [-34.63609, -58.52468999999999],
  [-34.63591, -58.52506],
  [-34.6358, -58.5253],
  [-34.63573, -58.52545],
  [-34.63566, -58.5256],
  [-34.63554, -58.52586],
  [-34.63549, -58.52593999999999],
  [-34.63543, -58.5261],
  [-34.63536, -58.52623],
  [-34.63534, -58.52629],
  [-34.63533, -58.52633],
  [-34.63531, -58.5264],
  [-34.63528, -58.52647],
  [-34.63523, -58.52662],
  [-34.63513, -58.52687],
  [-34.63507, -58.52705],
  [-34.63487, -58.52782],
  [-34.6348, -58.52810000000001],
  [-34.63475, -58.52829],
  [-34.63473, -58.52839],
  [-34.63472, -58.52844],
  [-34.63469, -58.52864],
  [-34.63465, -58.52886],
  [-34.63462, -58.52916],
  [-34.63458, -58.52946],
  [-34.63457, -58.52968],
  [-34.63455, -58.52990999999999],
  [-34.63454, -58.53007999999999],
  [-34.63452, -58.53056],
  [-34.63448, -58.53143],
  [-34.63448, -58.53164],
  [-34.63448, -58.53185],
  [-34.63446, -58.5326],
  [-34.63447, -58.53284],
  [-34.63447, -58.53296999999999],
  [-34.63447, -58.53310999999999],
  [-34.63448, -58.53346999999999],
  [-34.6345, -58.53384],
  [-34.63455, -58.53438],
  [-34.63461, -58.53507],
  [-34.63464, -58.5354],
  [-34.63464, -58.53547],
  [-34.63466, -58.53579],
  [-34.63466, -58.53602999999999],
  [-34.63465, -58.53619],
  [-34.63465, -58.53627000000001],
  [-34.63461, -58.53668],
  [-34.63457, -58.53691],
  [-34.63445, -58.53745],
  [-34.63437, -58.53768],
  [-34.63432, -58.53787],
  [-34.63424, -58.53813000000001],
  [-34.63421, -58.53822],
  [-34.63419, -58.53828],
  [-34.63382, -58.53927999999999],
  [-34.63379, -58.53935999999999],
  [-34.63369, -58.53965],
  [-34.63337, -58.54056],
  [-34.63334, -58.54062],
  [-34.63241, -58.54323],
  [-34.63128, -58.54644999999999],
  [-34.63072, -58.54802],
  [-34.63068, -58.54814],
  [-34.63065, -58.54824],
  [-34.63016, -58.5499],
  [-34.6301, -58.5501],
  [-34.63007, -58.5502],
  [-34.63005, -58.55028000000001],
  [-34.62999, -58.55051],
  [-34.62988, -58.55100000000001],
  [-34.62981, -58.55142000000001],
  [-34.62976, -58.55176],
  [-34.6297, -58.55212],
  [-34.62965, -58.55247],
  [-34.62961, -58.55292000000001],
  [-34.6296, -58.5531],
  [-34.62952, -58.55425000000001],
  [-34.62942, -58.55436000000001],
  [-34.6294, -58.55453000000001],
  [-34.62937, -58.55486],
  [-34.62932, -58.55533999999999],
  [-34.6293, -58.55550999999999],
  [-34.6292, -58.55592999999999],
  [-34.62903, -58.5566],
  [-34.62899, -58.55678000000001],
  [-34.62896, -58.55693],
  [-34.62892, -58.55716],
  [-34.62886, -58.55753],
  [-34.62891, -58.55797999999999],
  [-34.62893, -58.55814000000001],
  [-34.62894, -58.55820000000001],
  [-34.62897, -58.55828000000001],
  [-34.62903, -58.55842],
  [-34.62932, -58.5589],
  [-34.62936, -58.55898000000001],
  [-34.62939, -58.55907],
  [-34.62941, -58.55915],
  [-34.62942, -58.55924],
  [-34.62955, -58.56061999999999],
  [-34.62961, -58.56103000000001],
  [-34.6297, -58.56164],
  [-34.62972, -58.56179],
  [-34.62975, -58.56199],
  [-34.62982, -58.56242999999999],
  [-34.62985, -58.56259000000001],
  [-34.6299, -58.56289],
  [-34.6299, -58.56292],
  [-34.62992, -58.56301000000001],
  [-34.62993, -58.56306],
  [-34.63, -58.56375],
  [-34.63004, -58.56411],
  [-34.63018, -58.56508],
  [-34.63021, -58.56528],
  [-34.63032, -58.56608],
  [-34.63039, -58.56658],
  [-34.6304, -58.56666],
  [-34.6304, -58.5667],
  [-34.63039, -58.56672],
  [-34.63038, -58.56674],
  [-34.63036, -58.56677],
  [-34.6303, -58.56683],
  [-34.63019, -58.56697],
  [-34.63016, -58.567],
  [-34.63015, -58.56701],
  [-34.63013, -58.56702],
  [-34.63011, -58.56703],
  [-34.63008, -58.56703],
  [-34.63, -58.56702],
  [-34.6299, -58.567],
  [-34.62978, -58.56695],
  [-34.62972, -58.56694],
  [-34.62966, -58.56694],
  [-34.62958, -58.56696],
  [-34.62955, -58.567],
  [-34.62953, -58.56705],
  [-34.62951, -58.56709000000001],
  [-34.6295, -58.56713],
  [-34.6295, -58.56717999999999],
  [-34.62951, -58.56725],
  [-34.62952, -58.56728999999999],
  [-34.62954, -58.56733],
  [-34.62957, -58.56738],
  [-34.62971, -58.56744],
  [-34.62977, -58.56745],
  [-34.62981, -58.56744],
  [-34.62986, -58.56743],
  [-34.62997, -58.56740000000001],
  [-34.63005, -58.56739],
  [-34.63017, -58.56738],
  [-34.6303, -58.56738],
  [-34.6304, -58.56738],
  [-34.63049, -58.56741],
  [-34.63059, -58.56745],
  [-34.63093, -58.56758],
  [-34.63098, -58.5676],
  [-34.63128, -58.56770999999999],
  [-34.63158, -58.56781999999999],
  [-34.63161, -58.56785],
  [-34.63164, -58.56786],
  [-34.63168, -58.56789],
  [-34.63171, -58.56792],
  [-34.63176, -58.56794],
  [-34.63178, -58.56795999999999],
  [-34.63181, -58.56798],
  [-34.63185, -58.56802],
  [-34.63188, -58.56805],
  [-34.63194, -58.56812000000001],
  [-34.632, -58.56822],
  [-34.63204, -58.56828],
  [-34.63209, -58.56833],
  [-34.63212, -58.56836],
  [-34.63215, -58.56839],
  [-34.63219, -58.5684],
  [-34.63222, -58.56841],
  [-34.63226, -58.56841],
  [-34.63229, -58.56841],
  [-34.63235, -58.56841],
  [-34.63243, -58.56831],
  [-34.63249, -58.56822],
  [-34.63258, -58.56811],
  [-34.63319, -58.56741],
  [-34.63415, -58.56697],
  [-34.63428, -58.56691],
  [-34.63505, -58.56655],
  [-34.63587, -58.56618],
  [-34.63599, -58.56614],
  [-34.63625, -58.56606]
];

    const polyline = L.polyline(routeCoords, { color: '#ddd', weight: 8 }).addTo(map);
    const progressLine = L.polyline([], { color: 'green', weight: 8 }).addTo(map);

    const startMarker = L.marker(routeCoords[0], {
      icon: L.divIcon({ html: '<span>ü™ë</span>', className: '', iconSize: [24, 24] })
    }).addTo(map);

    const endMarker = L.marker(routeCoords[routeCoords.length - 1], {
      icon: L.divIcon({ html: '<span>üöó</span>', className: '', iconSize: [24, 24] })
    }).addTo(map);

    const runnerMarker = L.marker(routeCoords[0], {
      icon: L.divIcon({ html: '<span id="runner">üèÉ‚Äç‚ôÇÔ∏è</span>', className: '', iconSize: [24, 24] })
    }).addTo(map);

    function formatTime(sec) {
      const h = String(Math.floor(sec / 3600)).padStart(2, '0');
      const m = String(Math.floor((sec % 3600) / 60)).padStart(2, '0');
      const s = String(sec % 60).padStart(2, '0');
      return `${h}:${m}:${s}`;
    }

    function interpolateCoords(p1, p2, t) {
      return [
        p1[0] + (p2[0] - p1[0]) * t,
        p1[1] + (p2[1] - p1[1]) * t
      ];
    }

    function startRun() {
      const [sh, sm] = document.getElementById("startTime").value.split(':').map(Number);
      const [eh, em] = document.getElementById("endTime").value.split(':').map(Number);
      const start = new Date(); start.setHours(sh, sm, 0, 0);
      const end = new Date(); end.setHours(eh, em, 0, 0);
      const duration = (end - start) / 1000;

      if (duration <= 0) {
        alert("La hora de fin debe ser mayor a la de inicio.");
        return;
      }

      let startTime = Date.now();
      let endTime = startTime + duration * 1000;
      let progressPoints = [];

      function animate() {
        const now = Date.now();
        const elapsed = (now - startTime) / 1000;
        const progress = Math.min(elapsed / duration, 1);
        const totalSegments = routeCoords.length - 1;
        const totalProgress = progress * totalSegments;
        const index = Math.floor(totalProgress);
        const localT = totalProgress - index;

        if (index < totalSegments) {
          const pos = interpolateCoords(routeCoords[index], routeCoords[index + 1], localT);
          runnerMarker.setLatLng(pos);
          progressPoints.push(pos);
          progressLine.setLatLngs(progressPoints);
        }

        document.getElementById("countdown").textContent = formatTime(Math.max(0, Math.floor((endTime - now) / 1000)));

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          alert("Llegaste!");
        }
      }

      animate();
    }
  </script>
</body>
</html>
